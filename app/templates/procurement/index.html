{% extends "base.html" %}

{% block content %}
<div class="container mt-4">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Procurement Requests</h2>
    <a href="{{ url_for('procurement.create_request') }}" class="btn btn-primary">
      New Request
    </a>
  </div>

  {% if requests %}
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Amount</th>
          <th>Status</th>
          <th>Created At</th>
        </tr>
      </thead>
      <tbody>
        {% for req in requests %}
        <tr>
          <td>{{ req.id }}</td>
          <td>{{ req.title }}</td>
          <td>â‚¦{{ "{:,.2f}".format(req.amount) }}</td>
          <td>{{ req.status|capitalize }}</td>
          <td>{{ req.created_at.strftime("%Y-%m-%d %H:%M") }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <div class="alert alert-info">
      No procurement requests yet.
    </div>
  {% endif %}

</div>
{% endblock %}
